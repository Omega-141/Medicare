{% extends "basic.html" %}
{% load static %}
{% block head %}
<!-- Add icon library -->
<link rel="stylesheet" href="{% static 'doctor/signup_form/signup.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
  .img {
    position: relative;
    float: left;
    width: 200px;
    height: 200px;
    background-position: 100% 100%;
    background-repeat: no-repeat;
    background-size: cover;
  }


  body {

    background-image: url("{% static 'homepage/gray.gif' %}");
    background-attachment: fixed;
    opacity: 0.93;
    background-repeat: no-repeat;

    background-size: cover;

  }
</style>

{% endblock %}

{% block body %}
<form action='signup_doctor' method="POST" style="max-width:500px;margin:auto">

  <h1></b>
    <center style="color: rgb(155, 250, 228);">SIGN UP AS DOCTOR</center></b>
  </h1>

  {% csrf_token %}

  <center>
    <div>
      {% for message in messages %}
      <div class="alert alert-warning" role="alert">
        <h3 style="color: red;">{{message}}</h3>
      </div>
      {% endfor %}
    </div>
  </center>




  <div class="input-container">
    <i class="fa fa-user icon"></i>
    <input class="input-field" type="text" placeholder="Username" name="username" required>
  </div>


  <div class="input-container">
    <i class="fa fa-user icon"></i>
    <input class="input-field" type="text" placeholder="Name" name="name" required>
  </div>

  <div class="input-container">
    <i class="fa fa-envelope icon"></i>
    <input class="input-field" type="text" placeholder="Email" name="email" required>
  </div>
  <div class="input-container">
    <i class="fa fa-calendar icon"></i>
    <input class="input-field" type="date" placeholder="Date-of-birth" name="dob" style="width: 50%;" required>
    <pre style="color: rgb(155, 250, 228); font-size: larger; text-align: center; width: 40%;">Date Of Birth</pre>
  </div>
  <div class="input-container">
    <i class="fa fa-birthday-cake icon"></i>
    <input class="input-field" type="number" placeholder="Age" name="age" required disabled>
  </div>

  <div class="input-container" style="color: rgb(155, 250, 228);">
    <i class="fa fa-genderless icon"></i>
    <input class="radio-btn" type="radio" name="gender" value="male" checked> Male
    <input class="radio-btn" type="radio" name="gender" value="female"> Female
    <input class="radio-btn" type="radio" name="gender" value="other"> Other

  </div>


  <div class="input-container">
    <i class="fa fa-address-book icon"></i>
    <input class="input-field" type="text" placeholder="Address" name="address" required>
  </div>
  <div class="input-container">
    <i class="fa fa-phone icon"></i>
    <input class="input-field" type="number" placeholder="Mobile" name="mobile" required>
  </div>




  <div class="input-container">
    <i class="fa fa-id-card-o icon"></i>
    <input class="input-field" type="text" placeholder="Registration Number" name="registration_no" required>
  </div>

  <div class="input-container">
    <i class="fa fa-calendar icon"></i>
    <input class="input-field" type="date" placeholder="Year of registration" name="year_of_registration"
      style="width: 40%;" required>
    <pre
      style="color: rgb(155, 250, 228); font-size: larger; width: 50%; text-align: center;">Year Of Registration</pre>
  </div>

  <div class="input-container">
    <i class="fa fa-user-md icon"></i>
    <input class="input-field" type="text" placeholder="Qualification" name="qualification" required>
  </div>


  <div class="input-container">
    <i class="fa fa-users icon"></i>
    <input class="input-field" type="text" placeholder="State Medical Council" name="State_Medical_Council" required>
  </div>


  <div class="input-container">
    <i class="fa fa-address-book icon"></i>
    <select name="specialization" style="width: 100%;">
      <option disabled="disabled" selected="selected">Specialization</option>
      <option>Rheumatologist</option>
      <option>Cardiologist</option>
      <option>ENT specialist</option>
      <option>Orthopedist</option>
      <option>Neurologist</option>
      <option>Allergist/Immunologist</option>
      <option>Urologist</option>
      <option>Dermatologist</option>
      <option>Gastroenterologist</option>
      <option>Other</option>
    </select>
    <div class="select-dropdown"></div>
  </div>



  <div class="input-container">
    <i class="fa fa-key icon"></i>
    <input class="input-field" type="password" placeholder="Password" name="password" required>
  </div>

  <div class="input-container">
    <i class="fa fa-check icon"></i>
    <input class="input-field" type="password" placeholder="Retype Password" name="password1" required>
  </div>



  <button type="submit" class="btn">Register</button>
</form>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var dobInput = document.querySelector('input[name="dob"]');
    var ageInput = document.querySelector('input[name="age"]');

    // Function to calculate age from date of birth
    function calculateAge(dateString) {
      var today = new Date();
      var birthDate = new Date(dateString);
      var age = today.getFullYear() - birthDate.getFullYear();
      var monthDiff = today.getMonth() - birthDate.getMonth();

      if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
        age--;
      }

      return age;
    }

    // Event listener for date input field
    dobInput.addEventListener("change", function () {
      var dob = this.value;
      var age = calculateAge(dob);
      ageInput.value = age;
    });
  });
</script>

{% endblock %}